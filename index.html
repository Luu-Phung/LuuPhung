<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S·∫Øp X·∫øp D√£y S·ªë</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            height: auto;
            background: linear-gradient(135deg, #00c9ff, #92fe9d);
            margin: 0;
            overflow: hidden;
        }

        #number-container {
            display: flex;
            gap: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: clamp(10px, 4vw, 20px);
            border-radius: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            transition: transform 0.4s;
        }

        #number-container:hover {
            transform: scale(1.03);
        }

        .number {
            width: clamp(50px, 8vw, 60px);
            height: clamp(50px, 8vw, 60px);
            background: linear-gradient(135deg, #00c9ff, #92fe9d);
            color: #333333;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 28px;
            font-weight: 600;
            cursor: grab;
            user-select: none;
            border-radius: 20px;
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.2);
            transition: transform 0.4s, box-shadow 0.4s;
        }

        .number:active {
            transform: scale(1.15);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .number:hover {
            background: linear-gradient(135deg, #00c9ff, #92fe9d);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        #restart-button {
            margin-top: 20px;
            padding: 15px 30px;
            font-size: clamp(14px, 3vw, 18px);
            background-color: #00c9ff;
            color: #333;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        #restart-button:hover {
            background-color: #92fe9d;
        }

        h1 {
            font-size: clamp(30px, 5vw, 40px);
            color: #2f4f4f; /* M√†u x√°m xanh ƒë·∫≠m d·ªãu m·∫Øt */
            text-transform: uppercase;
            text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.2); /* Gi·∫£m ƒë·ªô ch√≥i c·ªßa b√≥ng */
            font-weight: 800;
            font-family: Arial, sans-serif;
            font-weight: bold; /* In ƒë·∫≠m t√™n game */
        }

        button {
            text-transform: uppercase; /* In hoa to√†n b·ªô ch·ªØ */
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

</head>

<body style="flex-direction: column;">
    <div id="start-screen"
        style="display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100vh; height: auto; background: linear-gradient(135deg, #00c9ff, #92fe9d); position: absolute; top: 0; left: 0; width: 100%; max-width: 100vw; overflow-x: hidden; box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.5);">
        <h1>‚ú® S·∫Øp X·∫øp D√£y S·ªë ‚ú®</h1>
        <button onclick="startGame()"
            style="margin-top: 30px; background-color: #00c9ff; color: #333333; border: none; padding: clamp(15px, 4vw, 25px) clamp(30px, 8vw, 50px); font-size: clamp(14px, 3vw, 18px); border-radius: 15px; cursor: pointer; transition: background-color 0.3s, color 0.3s; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);">
            üéÆ B·∫ÆT ƒê·∫¶U CH∆†I üéÆ
        </button>
    </div>
    <div id="game-info" style="text-align: center; margin-bottom: 20px;">
        <div id="timer"
            style="font-size: clamp(14px, 3vw, 18px); color: #333333; margin-bottom: 15px; text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);">
            ‚è± Th·ªùi gian: <span id="time">30</span> gi√¢y
        </div>
        <h1>‚ú® S·∫Øp X·∫øp D√£y S·ªë ‚ú®</h1>
        <p style="font-size: clamp(14px, 3vw, 18px); color: #333333; margin: 0 auto; text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.3); font-style: italic;">
            K√©o v√† th·∫£ c√°c √¥ s·ªë ƒë·ªÉ s·∫Øp x·∫øp d√£y s·ªë theo th·ª© t·ª± tƒÉng d·∫ßn.
        </p>
    </div>
    <div id="number-container">
        <!-- C√°c s·ªë s·∫Ω ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông b·∫±ng JavaScript -->
    </div>
    <button id="restart-button" style="display: none;" onclick="restartGame()">üîÑ Ch∆°i L·∫°i</button>

    <!-- Th√™m √¢m thanh ƒë·ªìng h·ªì -->
    <audio id="tick-sound" src="tick.mp3" preload="auto"></audio>

    <script>
        let numbers;
        const container = document.getElementById('number-container');
        const restartButton = document.getElementById('restart-button');
        let timeLeft = 30; // B·∫Øt ƒë·∫ßu t·ª´ 30 gi√¢y
        let timerInterval;
        let gameCompleted = false; // Tr·∫°ng th√°i c·ªßa tr√≤ ch∆°i
        const tickSound = document.getElementById('tick-sound'); // √Çm thanh ƒë·ªìng h·ªì

        function createNumberElements() {
            container.innerHTML = '';
            numbers.forEach((number, index) => {
                const numberElement = document.createElement('div');
                numberElement.classList.add('number');
                numberElement.draggable = true;
                numberElement.textContent = number;
                numberElement.dataset.index = index;

                // S·ª± ki·ªán khi b·∫Øt ƒë·∫ßu k√©o
                numberElement.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', index);
                });

                // S·ª± ki·ªán k√©o v√†o ph·∫ßn t·ª≠ kh√°c
                numberElement.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });

                // S·ª± ki·ªán th·∫£ v√†o ph·∫ßn t·ª≠ kh√°c
                numberElement.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const fromIndex = e.dataTransfer.getData('text/plain');
                    const toIndex = e.target.dataset.index;

                    // Ho√°n ƒë·ªïi v·ªã tr√≠ hai s·ªë
                    [numbers[fromIndex], numbers[toIndex]] = [numbers[toIndex], numbers[fromIndex]];
                    createNumberElements();

                    // Ki·ªÉm tra n·∫øu d√£y s·ªë ƒë√£ ƒë∆∞·ª£c s·∫Øp x·∫øp
                    if (isSorted(numbers)) {
                        setTimeout(() => {
                            stopTimer();
                            gameCompleted = true; // ƒê√°nh d·∫•u tr√≤ ch∆°i ƒë√£ ho√†n th√†nh
                            alert('Ch√∫c m·ª´ng! B·∫°n ƒë√£ s·∫Øp x·∫øp ƒë√∫ng d√£y s·ªë.');
                            restartButton.style.display = 'block'; // Hi·ªÉn th·ªã n√∫t Ch∆°i L·∫°i
                        }, 100);
                    }
                });

                container.appendChild(numberElement);
            });
        }

        function isSorted(arr) {
            for (let i = 0; i < arr.length - 1; i++) {
                if (arr[i] > arr[i + 1]) {
                    return false;
                }
            }
            return true;
        }

        function startTimer() {
            document.getElementById('time').textContent = timeLeft; // Hi·ªÉn th·ªã th·ªùi gian ban ƒë·∫ßu
            timerInterval = setInterval(() => {
                if (!gameCompleted) { // Ch·ªâ ph√°t √¢m thanh n·∫øu tr√≤ ch∆°i ch∆∞a ho√†n th√†nh
                    timeLeft--;
                    document.getElementById('time').textContent = timeLeft;
                    tickSound.play(); // Ph√°t √¢m thanh m·ªói khi gi·∫£m 1 gi√¢y
                    if (timeLeft <= 0) {
                        stopTimer();
                        alert('H·∫øt gi·ªù! B·∫°n ƒë√£ th·∫•t b·∫°i.');
                        restartButton.style.display = 'block'; // Hi·ªÉn th·ªã n√∫t Ch∆°i L·∫°i
                    }
                }
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timerInterval);
        }

        function startGame() {
            // Reset tr·∫°ng th√°i tr√≤ ch∆°i
            gameCompleted = false;
            // M·ªói l·∫ßn b·∫Øt ƒë·∫ßu tr√≤ ch∆°i m·ªõi, x√°o tr·ªôn l·∫°i d√£y s·ªë
            numbers = Array.from({ length: 11 }, (_, i) => i + 5).sort(() => Math.random() - 0.5).slice(0, 8);
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-info').style.display = 'block';
            document.getElementById('number-container').style.display = 'flex';
            restartButton.style.display = 'none'; // ·∫®n n√∫t Ch∆°i L·∫°i khi b·∫Øt ƒë·∫ßu tr√≤ ch∆°i m·ªõi
            timeLeft = 30; // Reset l·∫°i th·ªùi gian ƒë·∫øm ng∆∞·ª£c
            document.getElementById('time').textContent = timeLeft;
            createNumberElements(); // T·∫°o l·∫°i d√£y s·ªë m·ªõi
            startTimer();
        }

        function restartGame() {
            document.getElementById('start-screen').style.display = 'flex'; // Quay l·∫°i m√†n h√¨nh b·∫Øt ƒë·∫ßu
            document.getElementById('game-info').style.display = 'none';
            document.getElementById('number-container').style.display = 'none';
            stopTimer();
        }

        document.getElementById('game-info').style.display = 'none';
        document.getElementById('number-container').style.display = 'none';
    </script>

</body>

</html>
